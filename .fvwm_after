# This contains FVWM Buttons config, as well as keyboard shortcuts
read .fvwm_before

# A few clocks scattered round
Exec xclock -bg black -fg lime -digital -update 1 -geom 248x38-2312-0
Exec xclock -bg black -fg lime -digital -update 1 -geom 248x38-4872-0
Exec xclock -bg black -fg lime -digital -update 1 -geom 248x38-2560-0
Exec xclock -bg black -fg lime -digital -update 1 -geom 248x38-0-0

###############################################################################
# TWSs and Screens
###############################################################################

DestroyMenu TwsMenu

AddToMenu TwsMenu
+ "TWS"				            Title
+ "arb%mini-french-flag.png%"   Exec pro-tws arb -geom +1140+300 
+ "de%mini-german-flag.png%"    Exec pro-tws de2 -geom +1140+300 
+ "bas%mini-dutch-flag.png%"    Exec pro-tws bas -geom +1140+300 
+ "ita%mini-italy-flag.png%"    Exec pro-tws ita -geom +1140+300 
+ "comm%mini-union-jack.png%"   Exec pro-tws com -geom +1140+300
+ "nord%mini-sweden-flag.png%"  Exec pro-tws nord -geom +1140+300 
+ ""							Nop
+ "can%mini-canada-flag.png%"   Exec pro-tws canxr -geom +1140+300
+ "brz%mini-brazil-flag.png%"   Exec pro-tws brzxr -geom +1140+300
+ ""							Nop
+ "korea%mini-korea-flag.png%"  Exec pro-tws kr-nhf -geom +1140+300 
+ "syd%mini-aus-flag.png%"      Exec pro-tws syd -geom +1140+300
+ ""							Nop
+ "Other"						Popup OtherScreensMenu

AddToMenu OtherScreensMenu
+ "sim%mini-sim.png%"                Exec sim-tws 26th -geom +1140+300
+ "Slack%mini-slack.png%"            Exec slack.sh 2>/dev/null
+ "Chrome%mini-chrome.png%"          Exec chromium-browser --proxy-server=extproxy:3128 2> /dev/null 
+ "Firefox%mini-firefox.png%"        Exec firefox 2> /dev/null 
+ "Windows%mini-windows10.png%"      Exec /usr/bin/remmina 2> /dev/null
+ "PyCharm%mini-python.png%"         Exec /snap/pycharm-community/current/bin/pycharm.sh
+ "sqlDeveloper%mini-sql-file.png%"	 Exec /oracle_client/product/11.2.0/sqldeveloper/sqldeveloper.sh
+ "PR Check"     	 	 	 	 	 Exec /home/svora/support/tools/load_pnl.sh -net arb,bas,nord,de,com,globex,ita -q

###############################################################################
# Shells
###############################################################################

AddToMenu TwsMenu
+ "Shells"        	 Title 
+ "Tmux Main"     Exec gnome-terminal --profile small_font_fullscreen --geometry +0+0
+ "Tmux LMain"    Exec gnome-terminal --profile large_font_fullscreen --geometry +0+0
+ "Tmux 2nd"      Exec gnome-terminal --profile tmux_additional --geometry +400+450
+ "Tmux temp"     Exec gnome-terminal --profile tmux_temp --geometry +1267+660
+ "Gnome"         Exec gnome-terminal --geometry +1267+660
+ "Other"	      Popup OtherShellsMenu

AddToMenu OtherShellsMenu
+ "Gnome"         Exec gnome-terminal --geometry 141x38+1267+660
+ "Terminator"    Exec terminator --geometry=1279x676+0+0
+ "xterm"         Exec xterm +sb -geom 141x36+1282+700 -en utf-8
+ "Tmux ->"       Exec gnome-terminal --profile large_font_fullscreen --geometry +2550+0

###############################################################################
# Quick Tools
###############################################################################

AddToMenu TwsMenu
+ "Tools"            Title
+ "Screenshot"       Exec import $(mktemp /home/svora/images/screenshot.$(date +'%Y%m%d.%H%M').XXX.png)
+ "Lock Screen"      Exec xset s activate

###############################################################################
# Not-so-quick Tools
###############################################################################

AddToMenu ToolsMenu
+ "Clear screenshots"   Exec rm -f /home/svora/images/screenshot.*.png
+ "Kill ssh procs"  	Exec kill $(ps auwwx | grep ssh | grep hdb | tr -s ' ' | cut -d' ' -f2)
+ "Kill clocks"         Exec pkill xclock
#+ "Poke Henry"          Exec DISPLAY=uk01dw735:0.0; notify-send "oi"

###############################################################################
# Linux Settings / Config
###############################################################################

AddToMenu SettingsMenu
+ "Audio Settings"   Exec pavucontrol
+ "File Browser"     Exec nautilus
+ "Clock"            Exec xclock -digital -update 1
+ "Lock Screen"      Exec xset s activate
+ "Change Password"  Exec xterm -T "Change Password" -n Password -fg White -cr White -bg Red4 -geom 90x26 -e passwd

###############################################################################
# Destroy Right-Click Menu and recreate
###############################################################################

DestroyMenu RootMenu

DestroyMenu CdeColorMenu
AddToMenu CdeColorMenu "Cde Colors" Title
PipeRead 'for i in /home/svora/.fvwm/colors/CdeColors/*.fvwm2rc; do \
  echo "AddToMenu CdeColorMenu $(basename -s .fvwm2rc $i) Read $i"; done'

DestroyMenu CdeColorSelectMenu
AddToMenu CdeColorSelectMenu "Color Selection" Title
PipeRead 'for i in /home/svora/.fvwm/colors/CdeColors/*.fvwm2rc; do \
  echo "AddToMenu CdeColorSelectMenu $(basename -s .fvwm2rc $i) Exec ln -nfs $i /home/svora/.fvwm/colors/scheme.fvwm2rc"; done'

AddToMenu RootMenu
+ "Root Menu"    Title
+ "Colours Menu" Popup CdeColorMenu
+ "Tools"        Popup ToolsMenu
+ "Settings"     Popup SettingsMenu
+ "Fvwm_modules" Popup Module-Popup
+ "LogOff"       Popup Quit-Verify

AddToMenu Module-Popup
+ "FvwmConsole"  Module FvwmConsole
+ "SourceFvwm"   Restart --dont-preserve-state --pass-args fvwm
+ "SourceXdefs"  Exec xrdb -load .Xdefaults

###############################################################################
# FVWM Colorsets
###############################################################################

######
# 3: Colorsets
#
#   0 - Default
#   1 - Inactive Windows
#   3 - Inactive Windows Borders
#   4 - Active Windows Borders
#   5 - Menu - Inactive Item
#   6 - Menu - Active Item
#   7 - Menu - Grayed Item
#  10+ Modules
###########
Colorset 0  fg #ffffff, bg #003c3c
Colorset 1  fg #ffffff, bg #003c3c
Colorset 2  fg #000000, bg #8f9f8f
Colorset 3  fg black, bg #4d4d4d, hi #676767, sh #303030
Colorset 4  fg black, bg #2d2d2d, hi #474747, sh #101010
Colorset 5  fg #000000, bg #ffffff
Colorset 6  fg #ffffff, bg #2d2d2d
Colorset 7  fg grey30, bg #ffffff

Read /home/svora/.fvwm/colors/scheme.fvwm2rc

#Colorset 0  fg #ffffff, bg #003c3c
#Colorset 1  fg #000000, bg #dfa700
#Colorset 2  fg #003c3c, bg #ffffff

MenuStyle * MenuColorset 1
*FvwmButtons: Colorset 1
*FvwmPager: Colorset '*' 1
*FvwmPager: WindowColorsets '*' 2
*FvwmPager: HilightColorset '*' 2
#*FvwmPager: SloppyFocus

###############################################################################
# FVWM Buttons Config
###############################################################################

# ------------------------------
# Adding extra desk fvwm buttons
#
#DestroyModuleConfig FvwmButtons: *
*FvwmButtonsGeometry 300x48-250-0
*FvwmButtons: Font "xft:Sans:Bold:size=8:antialias=True"
#*FvwmButtons(Swallow "FvwmPager" "FvwmPager 0 9")
#*FvwmPagerBack #908090
#*FvwmPagerFore #484048
#*FvwmPagerFont -adobe-helvetica-bold-r-*-*-10-*-*-*-*-*-*-*
#*FvwmPagerHilight #cab3ca
#*FvwmPagerGeometry -0-0
#*FvwmPagerSmallFont 5x8
#*FvwmPagerDeskTopScale 32
#*FvwmPagerLabel 0 "Desk 1"
#*FvwmPagerLabel 1 "Desk 2"
#*FvwmPagerLabel 2 "Desk 3"
#*FvwmPagerLabel 3 "Desk 4"
#*FvwmPagerLabel 4 "Desk 5"
#*FvwmPagerLabel 5 "Desk 6"
#*FvwmPagerLabel 6 "Desk 7"
#*FvwmPagerLabel 7 "Desk 8"
#*FvwmPagerLabel 8 "Desk 9"
#*FvwmPagerLabel 9 "Desk 10"

# --------------------------------------------------------------
# Navigation Buttons

DestroyModuleConfig FvwmButtonsXLoad: *
*FvwmButtonsXLoad: Geometry 1740x20+255-0
*FvwmButtonsXload: Font "xft:Sans:Bold:size=8:antialias=True"
*FvwmButtonsXLoad: Colorset 1
*FvwmButtonsXLoad: ActiveColorset 2
*FvwmButtonsXLoad: PressColorset 7
*FvwmButtonsXLoad: Rows 1
*FvwmButtonsXLoad: Columns 18
*FvwmButtonsXLoad: (1x1+0+0, \
	Title 'arb', \
	Action(Mouse 1) 'Exec pro-tws arb -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel arb vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh bonnie')
*FvwmButtonsXLoad: (1x1+1+0, \
	Title "comm", \
	Action(Mouse 1) 'Exec pro-tws com -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel com vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh kelly')
*FvwmButtonsXLoad: (1x1+2+0, \
	Title "de", \
	Action(Mouse 1) 'Exec pro-tws de -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel de vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh rocky')
*FvwmButtonsXLoad: (1x1+3+0, \
	Title "bas", \
	Action(Mouse 1) 'Exec pro-tws bas -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel bas vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh vegas')
*FvwmButtonsXLoad: (1x1+4+0, \
	Title "ita", \
	Action(Mouse 1) 'Exec pro-tws ita -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel ita vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh ducati')
*FvwmButtonsXLoad: (1x1+5+0, \
	Title 'nord', \
	Action(Mouse 1) 'Exec pro-tws nord -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel nord vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh ikea')
*FvwmButtonsXLoad: (1x1+6+0, \
	Title 'can', \
	Action(Mouse 1) 'Exec pro-tws canxr -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel canxr vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh jacques')
*FvwmButtonsXLoad: (1x1+7+0, \
	Title 'brz', \
	Action(Mouse 1) 'Exec pro-tws brzxr -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel brzxr vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh jaguar')
*FvwmButtonsXLoad: (1x1+8+0, \
	Title 'kr-nhf', \
	Action(Mouse 1) 'Exec pro-tws kr-nhf -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel kr-nhf vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh soju')
*FvwmButtonsXLoad: (1x1+9+0, \
	Title 'syd', \
	Action(Mouse 1) 'Exec pro-tws syd -geom +1140+300', \
	Action(Mouse 2) 'Exec ssh_tunnel syd vtMonitor -geom +1140+0', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660 -- ssh acdc')
# Gap
*FvwmButtonsXLoad: (1x1+11+0, \
	Title 'Main', \
	Action(Mouse 1) 'Exec gnome-terminal --profile small_font_fullscreen --geometry +0+0', \
	Action(Mouse 3) 'Exec gnome-terminal --profile large_font_fullscreen --geometry +0+0')
*FvwmButtonsXLoad: (1x1+12+0, \
	Title 'Shell', \
	Action(Mouse 1) 'Exec gnome-terminal --profile tmux_additional --geometry +400+450', \
	Action(Mouse 2) 'Exec gnome-terminal --profile tmux_temp --geometry +1267+660', \
	Action(Mouse 3) 'Exec gnome-terminal --geometry +1267+660')
*FvwmButtonsXLoad: (1x1+13+0, \
	Title 'Win', \
	Action(Mouse 1) 'Exec /usr/bin/remmina 2> /dev/null', \
	Action(Mouse 2) 'Exec chromium-browser --proxy-server=extproxy:3128 2> /dev/null', \
	Action(Mouse 3) 'Exec slack.sh 2>/dev/null')
# Gap
*FvwmButtonsXLoad: (1x1+15+0, \
	Title 'FVWM', \
	Action(Mouse 1) 'Restart --dont-preserve-state --pass-args fvwm', \
	Action(Mouse 2) 'Popup CdeColorSelectMenu', \
	Action(Mouse 3) 'Exec pkill xclock')
*FvwmButtonsXLoad: (1x1+16+0, \
	Title 'ScShot', \
	Action(Mouse 1) 'Exec import $(mktemp /home/svora/images/screenshot.$(date +'%Y%m%d.%H%M').XXX.png', \
	Action(Mouse 3) 'Exec rm -f /home/svora/images/screenshot.*.png')
*FvwmButtonsXLoad: (1x1+17+0, \
	Title 'Lock', \
	Action(Mouse 1) 'Exec xset s activate', \
	Action(Mouse 3) 'Popup Quit-Verify')

#Module FvwmButtons FvwmButtonsXload
Style "FvwmButtons" StaysOnTop

###############################################################################
# FVWM Icon Manager
###############################################################################

#DestroyModuleConfig FvwmIconMan: *

#Module FvwmIconMan

# Make FvwmIconMan title-bar-less, sticky, and give it an icon
#Style "Fvwm*"       Icon toolbox.xpm,NoTitle,NoHandles,Sticky
#Style "FvwmIconMan" HandleWidth 2, Handles, BorderWidth 3

#Definitions used by the modules

#*FvwmIconMan: NumManagers        2
#*FvwmIconMan: Resolution         global
#*FvwmIconMan: Background         steelblue
#*FvwmIconMan: Foreground         white
#*FvwmIconMan: Font               7x13
#*FvwmIconMan: UseWinList         true
#*FvwmIconMan: DrawIcons          true
#*FvwmIconMan: Shape              true
#*FvwmIconMan: FollowFocus        true
#*FvwmIconMan: Tips               needed
#*FvwmIconMan: Sort               name
#*FvwmIconMan: ButtonGeometry     195x0
#*FvwmIconMan: ManagerGeometry    9x0+250-3

# Button Styles
#*FvwmIconMan: PlainButton            up white steelblue
#*FvwmIconMan: SelectButton           down white steelblue
#*FvwmIconMan: FocusButton            up white brown
#*FvwmIconMan: FocusAndSelectButton   down white brown
#*FvwmIconMan: TitleButton            raisededge white steelblue
#*FvwmIconMan: NoIconAction           "SendToModule FvwmAnimate animate"
#*FvwmIconMan: Font                   "xft:Sans:Bold:size=8:antialias=True"

#*FvwmIconMan: Action    Mouse   1 N sendcommand Focus
#*FvwmIconMan: Action    Mouse   2 N sendcommand WarpToWindow
#*FvwmIconMan: Action    Mouse   3 N sendcommand Iconify

#Style "FvwmIconMan" StaysOnTop

DestroyModuleConfig FvwmButtonsXLoadPanel: *
*FvwmButtonsXLoadPanel: Colorset 4
*FvwmButtonsXLoadPanel: Geometry 20x20-550-0
*FvwmButtonsXLoadPanel: Rows 1
*FvwmButtonsXLoadPanel: Frame 1
*FvwmButtonsXLoadPanel: Padding 0 0
*FvwmButtonsXLoadPanel: (Panel(left, steps 20, delay 20, position top, smooth, indicator 10) \
        "FvwmButtonsXLoad" 'Module FvwmButtons FvwmButtonsXLoad')

Module FvwmButtons FvwmButtonsXloadPanel
